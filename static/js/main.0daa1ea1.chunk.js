(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],{10:function(e,t,n){e.exports=n(38)},16:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),l=n.n(c),u=n(9),s=n(3),o=n.n(s),m=n(5),i=n(4),p=n(2),d=(n(16),function(e){var t=e.name,n=e.email,a=e.body;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"comment__name"},t),r.a.createElement("p",{className:"comment__body"},a),r.a.createElement("p",{className:"comment__email"},n))}),f=function(e){var t=e.comments;return r.a.createElement(r.a.Fragment,null,t&&t.map((function(e){return r.a.createElement("li",{key:e.id,className:"comment"},r.a.createElement(d,e))})))},E=function(e){var t=e.user,n=t.username,a=t.email,c=t.address.city;return r.a.createElement("div",{className:"user"},r.a.createElement("p",null,n),r.a.createElement("p",null,a),r.a.createElement("p",null,c))},h=function(e){var t=e.post,n=t.title,a=t.body,c=t.comments,l=t.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null),r.a.createElement("h2",null,n),r.a.createElement("p",null,a),l&&r.a.createElement(E,{user:l}),r.a.createElement("p",null,"Comments"),r.a.createElement("ul",{className:"comments list"},r.a.createElement(f,{comments:c})))},b=function(e){var t=e.posts;return r.a.createElement("ul",{className:"list"},t.map((function(e){return r.a.createElement("li",{key:e.id,className:"list__item"},r.a.createElement(h,{post:e}))})))};function v(e){return y.apply(this,arguments)}function y(){return(y=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=function(e){var t=e.query,n=e.handleSearch;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:"search",type:"text",value:t,onChange:n,placeholder:"Search..."}))},O=function(e){var t=e.handleLoad;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button",type:"button",onClick:t},"Load posts"))},g=n(8),N=n.n(g),w=function(){return r.a.createElement("div",{className:"loader"},r.a.createElement(N.a,{type:"Hearts",color:"#00BFFF",height:100,width:100,timeout:3e3}))};l.a.render(r.a.createElement((function(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(!1),s=Object(p.a)(l,2),d=s[0],f=s[1],E=Object(a.useState)(!1),h=Object(p.a)(E,2),y=h[0],g=h[1],N=Object(a.useState)(""),_=Object(p.a)(N,2),F=_[0],S=_[1],k=Object(a.useState)([]),x=Object(p.a)(k,2),C=x[0],L=x[1],I=function(){var e=Object(i.a)(o.a.mark((function e(){var t,n,a,r,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),g(!0),e.next=4,Promise.all([v("https://jsonplaceholder.typicode.com/posts"),v("https://jsonplaceholder.typicode.com/users"),v("https://jsonplaceholder.typicode.com/comments")]);case 4:t=e.sent,n=Object(p.a)(t,3),a=n[0],r=n[1],l=n[2],c(a.map((function(e){return Object(m.a)({},e,{user:r.find((function(t){return t.id===e.userId})),comments:l.filter((function(t){return t.postId===e.id}))})}))),L(a.map((function(e){return Object(m.a)({},e,{user:r.find((function(t){return t.id===e.userId})),comments:l.filter((function(t){return t.postId===e.id}))})}))),g(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,d&&r.a.createElement(j,{query:F,handleSearch:function(e){S(e.target.value),L(function(e,t){var n=e.toLowerCase();return t.filter((function(e){return e.title.toLowerCase().includes(n)||e.body.toLowerCase().includes(n)}))}(e.target.value,Object(u.a)(n)))}}),!d&&r.a.createElement(O,{handleLoad:I}),d&&r.a.createElement(b,{posts:C}),y&&r.a.createElement(w,null))}),null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.0daa1ea1.chunk.js.map