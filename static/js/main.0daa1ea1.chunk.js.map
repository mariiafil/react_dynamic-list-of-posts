{"version":3,"sources":["components/Comment.tsx","components/CommentList.tsx","components/User.tsx","components/Post.tsx","components/PostList.tsx","api/getData.ts","components/Search.tsx","components/LoadButton.tsx","components/LoaderContainer.tsx","index.tsx","App.tsx","api/constants.ts"],"names":["Comment","name","email","body","className","CommentList","comments","map","comment","key","id","User","user","username","city","address","Post","post","title","PostList","posts","getData","url","a","fetch","response","json","Search","query","handleSearch","type","value","onChange","placeholder","LoadButton","handleLoad","onClick","LoaderContainer","color","height","width","timeout","ReactDOM","render","useState","setPosts","isLoaded","setIsLoaded","isLoading","setIsLoading","setQuery","filteredPosts","setfilteredPosts","Promise","all","postsFromServer","usersFromServer","commentsFromServer","find","userId","filter","postId","e","target","array","queryToLowerCase","toLowerCase","item","includes","filterPosts","document","getElementById"],"mappings":"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","file":"static/js/main.0daa1ea1.chunk.js","sourcesContent":["import React, { FC } from 'react';\n\ninterface Props {\n  name: string;\n  email: string;\n  body: string;\n}\n\nexport const Comment: FC<Props> = ({ name, email, body }) => {\n  return (\n    <>\n      <h5 className=\"comment__name\">{name}</h5>\n      <p className=\"comment__body\">{body}</p>\n      <p className=\"comment__email\">{email}</p>\n    </>\n  );\n};\n","import React, { FC } from 'react';\nimport { Comment } from './Comment';\n\ninterface Props {\n  comments?: CommentInterface[];\n}\n\nexport const CommentList: FC<Props> = ({ comments }) => (\n  <>\n    {comments && comments.map(comment => (\n      <li key={comment.id} className=\"comment\">\n        <Comment {...comment} />\n      </li>\n    ))}\n  </>\n);\n","import React, { FC } from 'react';\n\ninterface Props {\n  user: UserInterface;\n}\n\nexport const User: FC<Props> = ({ user }) => {\n  const { username, email, address } = user;\n  const { city } = address;\n\n  return (\n    <div className=\"user\">\n      <p>{username}</p>\n      <p>{email}</p>\n      <p>{city}</p>\n    </div>\n  );\n};\n","import React, { FC } from 'react';\nimport { CommentList } from './CommentList';\nimport { User } from './User';\n\ninterface Props {\n  post: PreparedPost;\n}\n\nexport const Post: FC<Props> = ({ post }) => {\n  const {\n    title, body, comments, user,\n  } = post;\n\n  return (\n    <>\n      <p>{}</p>\n      <h2>{title}</h2>\n      <p>{body}</p>\n      {user && <User user={user} />}\n      <p>Comments</p>\n      <ul className=\"comments list\">\n        <CommentList comments={comments} />\n      </ul>\n    </>\n  );\n};\n","import React, { FC } from 'react';\nimport { Post } from './Post';\n\ninterface Props {\n  posts: PreparedPost[];\n}\n\nexport const PostList: FC<Props> = ({ posts }) => (\n  <ul className=\"list\">\n    {posts.map(post => (\n      <li key={post.id} className=\"list__item\">\n        <Post post={post} />\n      </li>\n    ))}\n  </ul>\n);\n","import { URL_COMMENTS, URL_POSTS, URL_USERS } from './constants';\n\nasync function getData <T>(url: string): Promise<T> {\n  const response = await fetch(url);\n\n  return response.json();\n}\n\nexport const getPosts = (): Promise<PostInterface[]> => {\n  return getData(URL_POSTS);\n};\n\nexport const getComments = (): Promise<CommentInterface[]> => {\n  return getData(URL_COMMENTS);\n};\n\nexport const getUsers = (): Promise<UserInterface[]> => {\n  return getData(URL_USERS);\n};\n","import React, { FC } from 'react';\n\ninterface Props {\n  query: string;\n  handleSearch: (e: React.ChangeEvent<HTMLInputElement>) => void;\n}\n\nexport const Search: FC<Props> = ({ query, handleSearch }) => (\n  <>\n    <input\n      className=\"search\"\n      type=\"text\"\n      value={query}\n      onChange={handleSearch}\n      placeholder=\"Search...\"\n    />\n  </>\n);\n","import React, { FC } from 'react';\n\ninterface Props {\n  handleLoad: () => void;\n}\n\nexport const LoadButton: FC<Props> = ({ handleLoad }) => (\n  <>\n    <button className=\"button\" type=\"button\" onClick={handleLoad}>Load posts</button>\n  </>\n);\n","import React, { FC } from 'react';\nimport Loader from 'react-loader-spinner';\n\nexport const LoaderContainer: FC = () => (\n  <div className=\"loader\">\n    <Loader\n      type=\"Hearts\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000}\n    />\n  </div>\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n","import React, { FC, useState, ChangeEvent } from 'react';\nimport './App.css';\nimport { PostList } from './components/PostList';\nimport { getPosts, getUsers, getComments } from './api/getData';\nimport { Search } from './components/Search';\nimport { LoadButton } from './components/LoadButton';\nimport { LoaderContainer } from './components/LoaderContainer';\n\nconst filterPosts = (query: string, array: PreparedPost[]): PreparedPost[] => {\n  const queryToLowerCase = query.toLowerCase();\n\n  return array.filter(item => item.title.toLowerCase().includes(queryToLowerCase)\n        || item.body.toLowerCase().includes(queryToLowerCase));\n};\n\nexport const App: FC = () => {\n  const [posts, setPosts] = useState<PreparedPost[]>([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [query, setQuery] = useState('');\n  const [filteredPosts, setfilteredPosts] = useState<PreparedPost[]>([]);\n\n  const handleLoad = async () => {\n    setIsLoaded(true);\n    setIsLoading(true);\n    const [postsFromServer,\n      usersFromServer,\n      commentsFromServer]\n          = await Promise.all(\n            [getPosts(),\n              getUsers(),\n              getComments(),\n            ],\n          );\n\n    setPosts(postsFromServer.map(post => ({\n      ...post,\n      user: usersFromServer.find(user => user.id === post.userId) as UserInterface,\n      comments: commentsFromServer.filter(comment => comment.postId === post.id),\n    })));\n\n    setfilteredPosts(postsFromServer.map(post => ({\n      ...post,\n      user: usersFromServer.find(user => user.id === post.userId) as UserInterface,\n      comments: commentsFromServer.filter(comment => comment.postId === post.id),\n    })));\n\n    setIsLoading(false);\n  };\n\n  const handleSearch = (e: ChangeEvent<HTMLInputElement>): void => {\n    setQuery(e.target.value);\n    setfilteredPosts(filterPosts(e.target.value, [...posts]));\n  };\n\n  return (\n    <>\n      {isLoaded && <Search query={query} handleSearch={handleSearch} /> }\n      {!isLoaded && <LoadButton handleLoad={handleLoad} />}\n      {isLoaded && <PostList posts={filteredPosts} />}\n      {isLoading && <LoaderContainer />}\n    </>\n  );\n};\n","export const URL_POSTS = 'https://jsonplaceholder.typicode.com/posts';\nexport const URL_USERS = 'https://jsonplaceholder.typicode.com/users';\nexport const URL_COMMENTS = 'https://jsonplaceholder.typicode.com/comments';\n"],"sourceRoot":""}