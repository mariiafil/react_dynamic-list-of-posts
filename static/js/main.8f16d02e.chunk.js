(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],{15:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),u=n.n(c),l=n(2),s=n.n(l),o=n(4),m=n(3),i=(n(15),function(e){var t=e.name,n=e.email,a=e.body;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"comment__name"},t),r.a.createElement("p",{className:"comment__body"},a),r.a.createElement("p",{className:"comment__email"},n))}),p=function(e){var t=e.comments;return r.a.createElement(r.a.Fragment,null,t&&t.map((function(e){return r.a.createElement("li",{key:e.id,className:"comment"},r.a.createElement(i,e))})))},f=function(e){var t=e.user,n=t.username,a=t.email,c=t.address.city;return r.a.createElement("div",{className:"user"},r.a.createElement("p",null,n),r.a.createElement("p",null,a),r.a.createElement("p",null,c))},d=function(e){var t=e.post,n=t.title,a=t.body,c=t.comments,u=t.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null),r.a.createElement("h2",null,n),r.a.createElement("p",null,a),u&&r.a.createElement(f,{user:u}),r.a.createElement("p",null,"Comments"),r.a.createElement("ul",{className:"comments list"},r.a.createElement(p,{comments:c})))},E=function(e){var t=e.posts;return r.a.createElement("ul",{className:"list"},t.map((function(e){return r.a.createElement("li",{key:e.id,className:"list__item"},r.a.createElement(d,{post:e}))})))},h=n(8),b="https://jsonplaceholder.typicode.com/";function v(e){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=function(){var e=Object(o.a)(s.a.mark((function e(){var t,n,a,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([v(b+"posts"),v(b+"users"),v(b+"comments")]);case 2:return t=e.sent,n=Object(m.a)(t,3),a=n[0],r=n[1],c=n[2],e.abrupt("return",a.map((function(e){return Object(h.a)({},e,{user:r.find((function(t){return t.id===e.userId})),comments:c.filter((function(t){return t.postId===e.id}))})})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e){var t=e.query,n=e.handleSearch;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:"search",type:"text",value:t,onChange:n,placeholder:"Search..."}))},w=function(e){var t=e.handleLoad;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button",type:"button",onClick:t},"Load posts"))},g=n(7),N=n.n(g),_=function(){return r.a.createElement("div",{className:"loader"},r.a.createElement(N.a,{type:"Hearts",color:"#00BFFF",height:100,width:100,timeout:3e3}))};u.a.render(r.a.createElement((function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)(!1),l=Object(m.a)(u,2),i=l[0],p=l[1],f=Object(a.useState)(!1),d=Object(m.a)(f,2),h=d[0],b=d[1],v=Object(a.useState)(""),y=Object(m.a)(v,2),g=y[0],N=y[1],F=function(){var e=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),b(!0),e.next=4,j();case 4:t=e.sent,c(t),b(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=Object(a.useMemo)((function(){return n.length?function(e,t){var n=e.toLowerCase();return t.filter((function(e){return e.title.toLowerCase().includes(n)||e.body.toLowerCase().includes(n)}))}(g,n):[]}),[g,n]);return r.a.createElement(r.a.Fragment,null,i&&r.a.createElement(O,{query:g,handleSearch:function(e){N(e.target.value)}}),!i&&r.a.createElement(w,{handleLoad:F}),i&&r.a.createElement(E,{posts:k}),h&&r.a.createElement(_,null))}),null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(37)}},[[9,1,2]]]);
//# sourceMappingURL=main.8f16d02e.chunk.js.map